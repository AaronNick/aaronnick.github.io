<!doctype html><html lang=zh-CN><head><meta http-equiv=X-Clacks-Overhead content="GNU Terry Pratchett"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=https://aaronnick.github.io/favicon.ico><title>两行代码改两天 | 叶星优酸乳</title>
<meta name=title content="两行代码改两天"><meta name=description content="本文简短的介绍了为什么一个小小的 Bug，可能会修复好几天。你看到的可能只是一个小问题，解决问题的人可能看到及考虑得更多。 阅读这篇文……"><meta name=keywords content><meta property="og:url" content="https://aaronnick.github.io/posts/%E4%B8%A4%E8%A1%8C%E4%BB%A3%E7%A0%81%E6%94%B9%E4%B8%A4%E5%A4%A9/"><meta property="og:site_name" content="叶星优酸乳"><meta property="og:title" content="两行代码改两天"><meta property="og:description" content="本文简短的介绍了为什么一个小小的 Bug，可能会修复好几天。你看到的可能只是一个小问题，解决问题的人可能看到及考虑得更多。 阅读这篇文……"><meta property="og:locale" content="zh_CN"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-07-28T12:29:21+08:00"><meta property="article:modified_time" content="2020-12-27T00:09:12+08:00"><meta property="og:image" content="https://aaronnick.github.io/icons/apple-touch-icon.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://aaronnick.github.io/icons/apple-touch-icon.png"><meta name=twitter:title content="两行代码改两天"><meta name=twitter:description content="本文简短的介绍了为什么一个小小的 Bug，可能会修复好几天。你看到的可能只是一个小问题，解决问题的人可能看到及考虑得更多。 阅读这篇文……"><meta itemprop=name content="两行代码改两天"><meta itemprop=description content="本文简短的介绍了为什么一个小小的 Bug，可能会修复好几天。你看到的可能只是一个小问题，解决问题的人可能看到及考虑得更多。 阅读这篇文……"><meta itemprop=datePublished content="2020-07-28T12:29:21+08:00"><meta itemprop=dateModified content="2020-12-27T00:09:12+08:00"><meta itemprop=wordCount content="1625"><meta itemprop=image content="https://aaronnick.github.io/icons/apple-touch-icon.png"><meta name=referrer content="no-referrer-when-downgrade"><style>:root{--width:720px;--font-main:Verdana, sans-serif;--font-secondary:Verdana, sans-serif;--font-scale:1em;--background-color:#fff;--heading-color:#222;--text-color:#444;--link-color:#3273dc;--visited-color:#8b6fcb;--blockquote-color:#222}@media(prefers-color-scheme:dark){:root{--background-color:#01242e;--heading-color:#eee;--text-color:#ddd;--link-color:#8cc2dd;--visited-color:#8b6fcb;--blockquote-color:#ccc}}body{font-family:var(--font-secondary);font-size:var(--font-scale);margin:auto;padding:20px;max-width:var(--width);text-align:left;background-color:var(--background-color);word-wrap:break-word;overflow-wrap:break-word;line-height:1.5;color:var(--text-color)}h1,h2,h3,h4,h5,h6{font-family:var(--font-main);color:var(--heading-color)}a{color:var(--link-color);cursor:pointer;text-decoration:none}a:hover{text-decoration:underline}nav a{margin-right:8px}strong,b{color:var(--heading-color)}button{margin:0;cursor:pointer}time{font-family:monospace;font-style:normal;font-size:15px}main{line-height:1.6}table{width:100%}hr{border:0;border-top:1px dashed}img{max-width:100%}code{font-family:monospace;padding:2px;border-radius:3px}blockquote{border-left:1px solid #999;color:var(--blockquote-color);padding-left:20px;font-style:italic}footer{padding:25px 0;text-align:center}.title:hover{text-decoration:none}.title h1{font-size:1.5em}.inline{width:auto!important}.highlight,.code{border-radius:3px;margin-block-start:1em;margin-block-end:1em;overflow-x:auto}ul.blog-posts{list-style-type:none;padding:unset}ul.blog-posts li{display:flex}ul.blog-posts li span{flex:0 0 130px}ul.blog-posts li a:visited{color:var(--visited-color)}</style></head><body><header><a href=/ class=title><h2>叶星优酸乳</h2></a><nav><a href=/posts/>归档</a>
<a href=/tags/>标签</a>
<a href=/about/>关于</a>
<a href=/about/>About</a></nav></header><main><content><p>本文简短的介绍了为什么一个小小的 Bug，可能会修复好几天。你看到的可能只是一个小问题，解决问题的人可能看到及考虑得更多。</p><p>阅读这篇文章，<strong>非技术人员</strong> 可以了解一个看似简单的 Bug 的修复背后需要做些什么，<strong>技术人员</strong> 可以在别人 BB 「一个小修复要花几天？」的时候丢他脸上。下面正文开始——</p><p>这看似是一个合理的问题，但它做了一些 <em>可怕的假设</em> ：</p><ul><li>代码行数=工作量</li><li>代码行数=价值</li><li>每一行代码都是相等的</li></ul><p>这些都不是真的。</p><p>为什么一个看起来很简单的修复需要花两天的时间来完成？</p><ul><li><p><strong>因为对如何重现问题的描述很模糊。</strong> 我花了几个小时才得到一个可靠的问题重现。有些开发人员会立即回到报告问题的人那里，要求提供更多的信息，然后再进行调查。而我试着用提供的信息做尽可能多的事情。我知道有些开发者不喜欢修复 Bug，所以会不惜一切代价来摆脱它。一种很好的方式就是声称没有足够的信息，这让你看起来很想帮忙，但实际不需要做任何事情。我知道报告错误是很难的，我很感谢任何这样做的人。我想对错误报告表示感谢，在询问更多细节之前，尽量用提供的信息来做。</p></li><li><p><strong>因为报告的问题与功能有关，我不熟悉。</strong> 它所要做的功能是我很少使用的，也不是我曾经很详细地使用过的功能。这意味着我花了比它可能更长的时间来了解如何使用它，以及它如何与软件互动的细微差别与错误。</p></li><li><p>因为我不仅仅是看表面，而是<strong>花了时间去调查问题的真正原因</strong> 。如果一些代码抛出了错误，你可以直接用 try&mldr;catch 语句把它包起来，然后禁止错误。没有错误，就没有问题，对吧？抱歉，对我来说，让问题隐形不等于解决问题。「吞下」一个错误很容易导致其他意想不到的副作用。我不希望在未来的某一个点上不得不处理它们。</p></li><li><p>因为我<strong>调查了是否有其他方法可以解决同样的问题</strong> ，而不仅仅是报告的再现步骤。一套再现步骤很容易让错误出现在一个地方，而实际上可能是更深层次的错误。找到问题的本质原因，并查看所有到达那里的方法，可以提供有价值的见解。如代码实际如何使用，可能存在其他可能的地方且可能需要解决这个问题，或者可能显示代码中的不一致，这意味着错误是在一个代码路径中而不是在另一个代码路径中导致的。</p></li><li><p>因为我<strong>花了时间来验证代码中是否有其他部分可能受到类似的影响</strong> 。如果一个错误导致了 Bug，那么同样的错误也可能在代码库的其他地方发生。现在是检查的好时机。</p></li><li><p>因为当我找到问题的原因时，我就会寻找<strong>最简单的方法来修复它</strong> ，将<strong>引入副作用的风险降到最低</strong> 。我不想要最快速的修复方法。我想要一个不可能在未来造成混乱或其他问题的修复方法。</p></li><li><p>因为我<strong>彻底地测试了这个变化</strong> ，并验证了它能解决所有受影响的不同代码路径的问题。我不想依靠别人来测试我所做的事情是否正确。我不想将来发现一个 Bug，让我在心态上有所动摇的时候，还要回到这段代码中来。来回切换的代价是昂贵的，而且令人沮丧。让一个专门的测试人员不得不再次查看 「相同」的变化，是我想尽可能避免的事情。</p></li></ul><p>我不喜欢修复 Bug。部分原因是它们会让人觉得是我之前的失败造成的。我不喜欢修复 Bug 的另一个原因是，我<strong>更愿意去研究新的东西</strong> 。</p><p>还有什么比修复 Bug 更糟糕的呢？ 就是不得不反复修复同一个 Bug。 我花时间确保任何一次遇到的 Bug 都能完全修复，这样就不需要不止一次的面对、调查、修复和测试。</p><h3 id=总结>#总结：</h3><ul><li>重现花时间</li><li>熟悉功能花时间</li><li>了解本质原因花时间</li><li>举一反三</li><li>触类旁通</li><li>寻找简单且小风险方案</li><li>修复后彻底测试</li></ul><p>这里再谈谈自己的想法，写该文的作者，想必是一个将敲代码当作兴趣的人，而且看得出来非常负责任。面对问题，首先<strong>不是恼怒而是感谢</strong> 。然后不是敷衍解决，而是追求问题的<strong>本质原因</strong> ，并尝试<strong>举一反三</strong> ，最后彻底验证自己的修复。如果所有人都是以这种心态来写代码，或许世界上就没那么多垃圾代码了。</p><blockquote><p>原文标题：You&rsquo;ve only added two lines - why did that take two days!</p><p>来源：https://www.mrlacey.com/2020/07/youve-only-added-two-lines-why-did-that.html</p><p>作者：Matt Lacey</p><p>推荐源：https://wanqu.co/</p></blockquote></content><p></p></main><footer>Made with <a href=https://github.com/janraasch/hugo-bearblog/>Hugo ʕ•ᴥ•ʔ Bear</a></footer></body></html>