<!doctype html><html lang=zh-CN><head><meta http-equiv=X-Clacks-Overhead content="GNU Terry Pratchett"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=https://aaronnick.github.io/favicon.ico><title>博客支持 Audio、YouTube、bilibili 嵌入 | 叶星优酸乳</title>
<meta name=title content="博客支持 Audio、YouTube、bilibili 嵌入"><meta name=description content="博客承载的内容不应只有文字，还可以通过添加音频、视频，以丰富博客的内容。 于是研究了一下，给博客增加了……"><meta name=keywords content><meta property="og:url" content="https://aaronnick.github.io/posts/%E5%8D%9A%E5%AE%A2%E6%94%AF%E6%8C%81-audioyoutubebilibili-%E5%B5%8C%E5%85%A5/"><meta property="og:site_name" content="叶星优酸乳"><meta property="og:title" content="博客支持 Audio、YouTube、bilibili 嵌入"><meta property="og:description" content="博客承载的内容不应只有文字，还可以通过添加音频、视频，以丰富博客的内容。 于是研究了一下，给博客增加了……"><meta property="og:locale" content="zh_CN"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-01-19T01:30:21+08:00"><meta property="article:modified_time" content="2022-07-10T13:30:12+08:00"><meta property="og:image" content="https://aaronnick.github.io/icons/apple-touch-icon.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://aaronnick.github.io/icons/apple-touch-icon.png"><meta name=twitter:title content="博客支持 Audio、YouTube、bilibili 嵌入"><meta name=twitter:description content="博客承载的内容不应只有文字，还可以通过添加音频、视频，以丰富博客的内容。 于是研究了一下，给博客增加了……"><meta itemprop=name content="博客支持 Audio、YouTube、bilibili 嵌入"><meta itemprop=description content="博客承载的内容不应只有文字，还可以通过添加音频、视频，以丰富博客的内容。 于是研究了一下，给博客增加了……"><meta itemprop=datePublished content="2021-01-19T01:30:21+08:00"><meta itemprop=dateModified content="2022-07-10T13:30:12+08:00"><meta itemprop=wordCount content="1030"><meta itemprop=image content="https://aaronnick.github.io/icons/apple-touch-icon.png"><meta name=referrer content="no-referrer-when-downgrade"><style>:root{--width:720px;--font-main:Verdana, sans-serif;--font-secondary:Verdana, sans-serif;--font-scale:1em;--background-color:#fff;--heading-color:#222;--text-color:#444;--link-color:#3273dc;--visited-color:#8b6fcb;--blockquote-color:#222}@media(prefers-color-scheme:dark){:root{--background-color:#01242e;--heading-color:#eee;--text-color:#ddd;--link-color:#8cc2dd;--visited-color:#8b6fcb;--blockquote-color:#ccc}}body{font-family:var(--font-secondary);font-size:var(--font-scale);margin:auto;padding:20px;max-width:var(--width);text-align:left;background-color:var(--background-color);word-wrap:break-word;overflow-wrap:break-word;line-height:1.5;color:var(--text-color)}h1,h2,h3,h4,h5,h6{font-family:var(--font-main);color:var(--heading-color)}a{color:var(--link-color);cursor:pointer;text-decoration:none}a:hover{text-decoration:underline}nav a{margin-right:8px}strong,b{color:var(--heading-color)}button{margin:0;cursor:pointer}time{font-family:monospace;font-style:normal;font-size:15px}main{line-height:1.6}table{width:100%}hr{border:0;border-top:1px dashed}img{max-width:100%}code{font-family:monospace;padding:2px;border-radius:3px}blockquote{border-left:1px solid #999;color:var(--blockquote-color);padding-left:20px;font-style:italic}footer{padding:25px 0;text-align:center}.title:hover{text-decoration:none}.title h1{font-size:1.5em}.inline{width:auto!important}.highlight,.code{border-radius:3px;margin-block-start:1em;margin-block-end:1em;overflow-x:auto}ul.blog-posts{list-style-type:none;padding:unset}ul.blog-posts li{display:flex}ul.blog-posts li span{flex:0 0 130px}ul.blog-posts li a:visited{color:var(--visited-color)}</style></head><body><header><a href=/ class=title><h2>叶星优酸乳</h2></a><nav><a href=/posts/>归档</a>
<a href=/about/>关于</a></nav></header><main><content><p>博客承载的内容不应只有文字，还可以通过添加音频、视频，以丰富博客的内容。</p><p>于是研究了一下，给博客增加了音频支持，同时也增加了 YouTube、bilibili 视频嵌入。</p><h3 id=增加-audio-支持>#增加 Audio 支持</h3><p>在<code>～/myblog/themes/meme/layouts/shortcodes/audio.html</code>添加：</p><pre><code> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</code></pre><p>|</p><pre><code>&lt;audio controls
	class=&quot;audio_controls {{ .Get &quot;class&quot; }}&quot;
	{{ with .Get &quot;id&quot; }}id=&quot;{{ . }}&quot;{{ end }}
	{{ with .Get &quot;preload&quot; }}preload=&quot;{{ . }}&quot;{{ else }}preload=&quot;metadata&quot;{{ end }}
	
	style=&quot;{{ with .Get &quot;style&quot; }}{{ . | safeCSS }}; {{ end }}
		{{ with .Get &quot;width&quot; }}width:{{ . }}; {{ end }}
		{{ with .Get &quot;height&quot; }}height:{{ . }};{{ end }}&quot;
	{{ with .Get &quot;title&quot; }}data-info-title=&quot;{{ . }}&quot;{{ end }}
	{{ with .Get &quot;attr&quot; }}data-info-attr=&quot;{{ . }}&quot;{{ end }}
	{{ with .Get &quot;attr_link&quot; }}data-info-attr-link=&quot;{{ . }}&quot;{{ end }}
	{{ with .Get &quot;year&quot; }}data-info-year=&quot;{{ . }}&quot;{{ end }}
	{{ with .Get &quot;artist&quot; }}data-info-artist=&quot;{{ . }}&quot;{{ end }}
	{{ with .Get &quot;album_title&quot; }}data-info-album-title=&quot;{{ . }}&quot;{{ end }}
	{{ with .Get &quot;album_art&quot; }}data-info-album-art=&quot;{{ . }}&quot;{{ end }}
	{{ with .Get &quot;label&quot; }}data-info-label=&quot;{{ . }}&quot;{{ end }}
&gt;
	{{ if .Get &quot;src&quot; }}
	&lt;source {{ with .Get &quot;src&quot; }}src=&quot;{{ . }}&quot;{{ end }}
		{{ with .Get &quot;type&quot; }}type=&quot;audio/{{ . }}&quot;{{ end }}&gt;
	{{ else if .Get &quot;backup_src&quot; }}
		&lt;source src=&quot;{{ .Get &quot;backup_src&quot; }}&quot;
			{{ with .Get &quot;backup_type&quot; }}type=&quot;audio/{{ . }}&quot;{{ end }}
			{{ with .Get &quot;backup_codec&quot; }}codecs=&quot;{{ . }}&quot;{{ end }}
		&gt;
	{{ end }}
	Your browser does not support the audio element
&lt;/audio&gt;
</code></pre><p>&mdash;|&mdash;</p><p>添加好后，就能在写博客的时候插入<code>.mp3</code>文件了。</p><pre><code>//示例：
花括号{&lt; audio src=&quot;https://your-path-to-music.mp3&quot; &gt;}}
</code></pre><p>尝试听一首歌吧，来自杰伦的《夜曲》：</p><p>Your browser does not support the audio element</p><p>另一种方式，听一曲《月半小夜曲》：</p><blockquote><p>来自于 <code>LoveIt</code> 主题[1]的 <code>music.html</code>[2]</p></blockquote><h3 id=增加-youtube-视频嵌入>#增加 YouTube 视频嵌入</h3><p>在<code>～/myblog/themes/meme/layouts/shortcodes/youtube.html</code>添加：</p><pre><code> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</code></pre><p>|</p><pre><code>&lt;style&gt;
.youtube-player {
    position: relative;
    width: 100%;
    height: 0;
    padding-bottom: 56.25%;
    }
      
.youtube-player iframe {
    position: absolute;
    width: 100%;
    height: 100%;
    left: 0;
    top: 0;
    }
&lt;/style&gt;


&lt;div align=center class=&quot;youtube-player&quot;&gt;
    &lt;iframe src=&quot;https://www.youtube.com/embed/{{ index .Params 0 }}&quot;
    scrolling=&quot;no&quot; 
    border=&quot;0&quot; 
    frameborder=&quot;no&quot; 
    framespacing=&quot;0&quot; 
    allowfullscreen=&quot;true&quot;&gt; 
    &lt;/iframe&gt;
&lt;/div&gt;
</code></pre><p>&mdash;|&mdash;</p><p>配置好后，在想要插入 YouTube 视频的博客文章中添加：</p><pre><code>//示例：
花括号{&lt; youtube MZCbxM7LLy0 &gt;}}
</code></pre><h3 id=增加-bilibili-视频嵌入>#增加 bilibili 视频嵌入</h3><p>在<code>～/myblog/themes/meme/layouts/shortcodes/bilibili.html</code>添加：</p><pre><code> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</code></pre><p>|</p><pre><code>&lt;style&gt;
.aspect-ratio {
    position: relative;
    width: 100%;
    height: 0;
    padding-bottom: 75%;
    }
      
.aspect-ratio iframe {
    position: absolute;
    width: 100%;
    height: 100%;
    left: 0;
    top: 0;
    }
&lt;/style&gt;
      

&lt;div align=center class=&quot;aspect-ratio&quot;&gt;
    &lt;iframe src=&quot;https://player.bilibili.com/player.html?aid={{ index .Params 0 }}&amp;&amp;page=1&amp;as_wide=1&amp;high_quality=1&amp;danmaku=0&quot; 
    scrolling=&quot;no&quot; 
    border=&quot;0&quot; 
    frameborder=&quot;no&quot; 
    framespacing=&quot;0&quot; 
    allowfullscreen=&quot;true&quot;&gt; 
    &lt;/iframe&gt;
&lt;/div&gt;
</code></pre><p>&mdash;|&mdash;</p><p>配置好后，在想要插入 bilibili 视频的博客文章中添加：</p><pre><code>//示例：
花括号{&lt; bilibili 56776062 &gt;}}
</code></pre><blockquote><p>注：56776062 是 bilibili 的 aid，可在「分享-嵌入代码」中找到 aid。</p></blockquote><hr><ol><li><p>LoveIt 主题：https://hugoloveit.com/zh-cn/theme-documentation-extended-shortcodes/#8-music ↩︎</p></li><li><p>music.html 文件：https://github.com/lmm214/immmmm/blob/master/themes/hello-friend/layouts/shortcodes/music.html ↩︎</p></li></ol></content><p></p></main><footer>Made with <a href=https://github.com/janraasch/hugo-bearblog/>Hugo ʕ•ᴥ•ʔ Bear</a></footer></body></html>