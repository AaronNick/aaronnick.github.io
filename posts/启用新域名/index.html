<!doctype html><html lang=zh-CN><head><meta http-equiv=X-Clacks-Overhead content="GNU Terry Pratchett"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=https://aaronnick.github.io/favicon.ico><title>启用新域名 | 叶星优酸乳</title>
<meta name=title content="启用新域名"><meta name=description content="博客自创建以来，既没有去研究优化加速，也没有去折腾一个炫酷的域名，尽可能保持着她最初的模样（其实是我……"><meta name=keywords content><meta property="og:url" content="https://aaronnick.github.io/posts/%E5%90%AF%E7%94%A8%E6%96%B0%E5%9F%9F%E5%90%8D/"><meta property="og:site_name" content="叶星优酸乳"><meta property="og:title" content="启用新域名"><meta property="og:description" content="博客自创建以来，既没有去研究优化加速，也没有去折腾一个炫酷的域名，尽可能保持着她最初的模样（其实是我……"><meta property="og:locale" content="zh_CN"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-06-06T00:00:21+08:00"><meta property="article:modified_time" content="2021-06-06T00:21:28+08:00"><meta property="og:image" content="https://aaronnick.github.io/icons/apple-touch-icon.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://aaronnick.github.io/icons/apple-touch-icon.png"><meta name=twitter:title content="启用新域名"><meta name=twitter:description content="博客自创建以来，既没有去研究优化加速，也没有去折腾一个炫酷的域名，尽可能保持着她最初的模样（其实是我……"><meta itemprop=name content="启用新域名"><meta itemprop=description content="博客自创建以来，既没有去研究优化加速，也没有去折腾一个炫酷的域名，尽可能保持着她最初的模样（其实是我……"><meta itemprop=datePublished content="2021-06-06T00:00:21+08:00"><meta itemprop=dateModified content="2021-06-06T00:21:28+08:00"><meta itemprop=wordCount content="1123"><meta itemprop=image content="https://aaronnick.github.io/icons/apple-touch-icon.png"><meta name=referrer content="no-referrer-when-downgrade"><style>:root{--width:720px;--font-main:Verdana, sans-serif;--font-secondary:Verdana, sans-serif;--font-scale:1em;--background-color:#fff;--heading-color:#222;--text-color:#444;--link-color:#3273dc;--visited-color:#8b6fcb;--blockquote-color:#222}@media(prefers-color-scheme:dark){:root{--background-color:#01242e;--heading-color:#eee;--text-color:#ddd;--link-color:#8cc2dd;--visited-color:#8b6fcb;--blockquote-color:#ccc}}body{font-family:var(--font-secondary);font-size:var(--font-scale);margin:auto;padding:20px;max-width:var(--width);text-align:left;background-color:var(--background-color);word-wrap:break-word;overflow-wrap:break-word;line-height:1.5;color:var(--text-color)}h1,h2,h3,h4,h5,h6{font-family:var(--font-main);color:var(--heading-color)}a{color:var(--link-color);cursor:pointer;text-decoration:none}a:hover{text-decoration:underline}nav a{margin-right:8px}strong,b{color:var(--heading-color)}button{margin:0;cursor:pointer}time{font-family:monospace;font-style:normal;font-size:15px}main{line-height:1.6}table{width:100%}hr{border:0;border-top:1px dashed}img{max-width:100%}code{font-family:monospace;padding:2px;border-radius:3px}blockquote{border-left:1px solid #999;color:var(--blockquote-color);padding-left:20px;font-style:italic}footer{padding:25px 0;text-align:center}.title:hover{text-decoration:none}.title h1{font-size:1.5em}.inline{width:auto!important}.highlight,.code{border-radius:3px;margin-block-start:1em;margin-block-end:1em;overflow-x:auto}ul.blog-posts{list-style-type:none;padding:unset}ul.blog-posts li{display:flex}ul.blog-posts li span{flex:0 0 130px}ul.blog-posts li a:visited{color:var(--visited-color)}</style></head><body><header><a href=/ class=title><h2>叶星优酸乳</h2></a><nav><a href=/>主页</a>
<a href=/posts/>文章</a></nav></header><main><content><p>博客自创建以来，既没有去研究优化加速，也没有去折腾一个炫酷的域名，尽可能保持着她最初的模样（其实是我太懒了……）。但是，逐渐有一些朋友反馈，这个域名太麻烦了，不直观也不好记。于是，我决定申请个域名便于大家访问，也就是现在的 <code>weiyexing.ml</code>。</p><p>在申请域名以及配置的过程中，踩了不少坑，记录下来方便回顾，同时也分享给大家。</p><p><img src="https://bn02pap001files.storage.live.com/y4mI3mpizBbQC81T9lG4sR87lS70GtAy-JtCQLDJPQdY2mrvO6_cFUoxbddHc0B36s0i3gjriRsHhXpCmjGJBpPzuU5kV9TEp8tuzKTs_232Q4gkypdHkuboN5dQG_8CzCot8ZoA4i3j7gc6JCatyEwiv1LOCmwem5qCcN7GXUgL6zt4bu7BOpPO8FKHHEjXhV5?width=1024&amp;height=546&amp;cropmode=none" alt>◎ freenom</p><h3 id=通过-freenom-申请永久免费域名>#通过 freenom 申请永久免费域名</h3><p>申请之前，有考虑去 GoDaddy 购买一个域名，发现有点小贵，但想到这个域名并无其他用处，就放弃了。转而选择去 freenom 申请一个免费域名，将就着用吧。</p><p>具体步骤：</p><ol><li>使用美国节点打开 <a href=http://www.freenom.com/>freenom</a> 网站</li><li>输入想要申请的域名，如 <code>weiyexing.ml</code> ，检查可用性</li><li>确定可用并选中，点击完成进入确认表单，右侧的 <code>Period</code> 下拉选择 12 个月，点击 <code>Continue</code></li><li>填写邮箱接收确认邮件，最好用 Gmail 邮箱（如果收不到确认邮件，尝试换个邮箱或者检查网络，都不行的话可能就需要等等了，有时候 freenom 会限制注册）</li><li>点击确认邮件后重新打开会跳转 freenom，需要填写地址等信息，最好使用真实信息，否则会被判定为机器人而导致申请不成功。可以通过<a href=https://www.randomaddressgenerator.com/>这个网站随机获取地址信息</a></li><li>填写完毕，点击继续就申请成功了</li><li>需要注意的是，刚才选择有效期为 12 个月，意味着 12 个月后需要登录 freenom 操作续期（免费再续 12 个月），否则域名将会被收回</li></ol><h3 id=设置域名解析>#设置域名解析</h3><ol><li>freenom 顶部菜单栏中点击 <code>Services - My Domains</code>，点击 <code>Manage Domain</code>，在 <code>Manage Freeenom DNS</code> 下添加三条规则</li></ol><table><thead><tr><th>Name</th><th>Type</th><th>TTL</th><th>Target</th></tr></thead><tbody><tr><td>A</td><td>默认值</td><td>192.30.252.153</td><td></td></tr><tr><td>A</td><td>默认值</td><td>192.30.252.154</td><td></td></tr><tr><td>www</td><td>CNAME</td><td>默认值</td><td><code>your_name.github.io</code></td></tr></tbody></table><ol start=2><li><p>在博客文件夹目录 <code>myblog/static</code> 下添加一个名为 <code>CNAME</code> 的文件，文件内只需放刚才申请的域名，即 <code>weiyexing.ml</code></p></li><li><p>运行 Hugo，该 <code>CNAME</code> 文件将自动复制到 <code>/public</code> 目录中，稍等片刻，就能用刚才申请的域名访问博客了</p></li></ol><h3 id=配置-cloudflare-以使用-https>#配置 CloudFlare 以使用 HTTPs</h3><p>刚才已经可以使用 <code>weiyexing.ml</code> 跳转博客主页了，但是由于 <code>Github Pages</code> 不支持在自定义域名中使用 <code>HTTPs</code> 协议，所以浏览器访问 <code>weiyexing.ml</code> 时使用的是 <code>HTTP</code> 协议。以至于每次访问博客，都会提示该网页不受信任。另外，考虑到 <code>HTTPs</code> 协议比 <code>HTTP</code> 更安全，因此需要想个办法解决。</p><p>经过检索，发现 CloudFlare 有现成的一整套解决方案，并且是免费的，具体操作如下：</p><ol><li><p>前往 <a href=https://www.cloudflare.com/>CloudFlare</a> 网站，注册一个账号</p></li><li><p>输入申请好的域名 <code>weiyexing.ml</code>，选择免费套餐</p></li><li><p>CloudFlare 将扫描现有的 <code>DNS</code> 记录。等待直到扫描结束，然后单击 <code>Continue</code></p></li><li><p>CloudFlare 会提供两个 Nameserver：<code>xxx1.ns.cloudflare.com</code>；<code>xxx2.ns.cloudflare.com</code></p></li><li><p>回到 freenom ，点击 <code>Services - My Domains</code>，点击 <code>Manage Domain</code>，选择 <code>Management Tools</code>，勾选 <code>Use custom nameservers (enter below)</code>，填写刚才的两个 Nameserver，点击 <code>Change Nameserver</code></p></li><li><p>回到 CloudFlare，配置下 <code>Rules</code> 选项，填写如下：</p></li></ol><p><img src="https://bn02pap001files.storage.live.com/y4mq2xbhlYJ9ROw5r4J3w6ZYlK0APxUNuyb1LXxZP25XRdS7zx3P_QQjEJzewrWRVSPs3OKWBanzRM0bdRw4ZvhSIEaH_8bR1PSv3jQrzvKaDcCv293Kfr6dc0ER2z13PCoL-nod-tE7aPs7dK2XdQPjU0PbVG51vqcEYXhC6P4oT9WEEVxAUVhzGLWDU3hGNBE?width=1024&amp;height=285&amp;cropmode=none" alt>◎ 配置 Rules</p><ol start=7><li>稍等几分钟，然后访问刚才的域名，检查是否已经在 <code>HTTPs</code> 下加载</li></ol><h5 id=参考>#参考</h5><ol><li><a href=https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site/managing-a-custom-domain-for-your-github-pages-site>Managing a custom domain for your GitHub Pages site</a></li><li><a href=https://stackoverflow.com/questions/44081863/how-i-can-using-a-dot-tk-domain-with-github-pages>how i can Using a dot.tk domain with GitHub Pages?</a></li><li><a href=https://dev.to/hieplpvip/get-a-free-domain-with-freenom-and-cloudflare-k1j>Get a free domain with Freenom and Cloudflare</a></li><li><a href=https://zhuanlan.zhihu.com/p/37752930>如何使用Hugo在GitHub Pages上搭建免费个人网站</a></li></ol></content><p></p></main><footer>Made with <a href=https://github.com/janraasch/hugo-bearblog/>Hugo ʕ•ᴥ•ʔ Bear</a></footer></body></html>